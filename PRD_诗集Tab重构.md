# PRDï¼šè¯—é›† Tab é‡æ„ï¼ˆå­¦ä¹  Flomo äº¤äº’ï¼‰

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

- **ç‰ˆæœ¬**ï¼šv1.0
- **åˆ›å»ºæ—¥æœŸ**ï¼š2025-10-26
- **è´Ÿè´£äºº**ï¼šèŠ±ç”Ÿ AI
- **é¡¹ç›®ä»£å·**ï¼šPoetry Collection Tab Refactoring
- **ä¼˜å…ˆçº§**ï¼šP0ï¼ˆé«˜ä¼˜å…ˆçº§ï¼Œå½±å“æ ¸å¿ƒä¿¡æ¯æ¶æ„ï¼‰
- **é¢„è®¡å·¥æœŸ**ï¼š1-2 å¤©

---

## ğŸ¯ äº§å“ç›®æ ‡

### æ ¸å¿ƒé—®é¢˜
å½“å‰ã€å†™è¯—ã€‘Tab åªæœ‰ä¸‰ä¸ªå¤§æŒ‰é’®ï¼ˆä¸»é¢˜å†™è¯—ã€ä¸´æ‘¹å†™è¯—ã€ç›´æ¥å†™è¯—ï¼‰ï¼Œå ç”¨å¤§é‡ç©ºé—´ä½†åŠŸèƒ½å•ä¸€ã€‚ç”¨æˆ·å†™å®Œè¯—åï¼Œè¯—æ­Œä¿å­˜åˆ°ã€æˆ‘çš„ã€‘Tabï¼Œå¯¼è‡´**åˆ›ä½œå…¥å£**å’Œ**å†…å®¹å±•ç¤º**åˆ†ç¦»ï¼Œä¿¡æ¯æ¶æ„ä¸æ¸…æ™°ã€‚

### ä¼˜åŒ–ç›®æ ‡
å‚è€ƒ **Flomo** çš„äº¤äº’è®¾è®¡ï¼Œå°†ã€å†™è¯—ã€‘Tab é‡æ„ä¸ºã€è¯—é›†ã€‘Tabï¼Œå®ç°ï¼š
1. âœ… **å†…å®¹ + åˆ›ä½œå…¥å£åˆä¸€**ï¼šè¯—æ­Œåˆ—è¡¨ + å³ä¸Šè§’ã€+ã€‘æŒ‰é’®
2. âœ… **å†™è¯—ä¿å­˜åç«‹å³å›åˆ°è¯—é›†**ï¼šç”¨æˆ·èƒ½æ¸…æ¥šçœ‹åˆ°è¯—æ­Œå·²ä¿å­˜
3. âœ… **å–æ¶ˆå¼ºåˆ¶å›¾ç‰‡ç”Ÿæˆ**ï¼šå†™è¯—å®Œæˆä¸å†å¼¹å‡º `PoemSuccessView`
4. âœ… **åˆ†äº«åŠŸèƒ½æŒ‰éœ€ä½¿ç”¨**ï¼šä»è¯—æ­Œè¯¦æƒ…é¡µç‚¹å‡»ã€åˆ†äº«ã€‘è¿›å…¥æ¨¡æ¿é€‰æ‹©

---

## ğŸ“Š å½“å‰ vs ä¼˜åŒ–åå¯¹æ¯”

### å½“å‰è®¾è®¡ï¼ˆæœ‰é—®é¢˜ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ã€å†™è¯—ã€‘Tab                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      ğŸ¨ ä¸»é¢˜å†™è¯—              â”‚   â”‚ â† ä¸‰ä¸ªå¤§æŒ‰é’®å æ»¡å±å¹•
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      ğŸ–¼ï¸ ä¸´æ‘¹å†™è¯—              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      âœï¸ ç›´æ¥å†™è¯—              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å†™è¯— â†’ ä¿å­˜ â†’ PoemSuccessViewï¼ˆå›¾ç‰‡é¢„è§ˆï¼‰
              â†“
         è¯—æ­Œå­˜åˆ°ã€æˆ‘çš„ã€‘Tab
         ï¼ˆç”¨æˆ·ä¸çŸ¥é“è¯—åœ¨å“ªé‡Œï¼‰
```

**é—®é¢˜**ï¼š
- âŒ ç©ºé—´æµªè´¹ï¼šä¸‰ä¸ªæŒ‰é’®å æ»¡å±å¹•
- âŒ ä¿¡æ¯å‰²è£‚ï¼šå†™è¯—å…¥å£å’Œå†…å®¹åˆ†ç¦»
- âŒ æµç¨‹æ–­è£‚ï¼šå†™å®Œè¯—åä¸çŸ¥é“è¯—å»å“ªäº†
- âŒ å¼ºåˆ¶å›¾ç‰‡ï¼šæ¯æ¬¡ä¿å­˜éƒ½ç”Ÿæˆå›¾ç‰‡

---

### ä¼˜åŒ–è®¾è®¡ï¼ˆå­¦ä¹  Flomoï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯—é›†               ğŸ”      [+]      â”‚ â† æ ‡é¢˜ + æœç´¢ + åˆ›ä½œæŒ‰é’®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [è¯—é›†] [è‰ç¨¿] [å·²å‘å¸ƒ]              â”‚ â† Tab åˆ‡æ¢
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  çƒŸé›¨å¯Œæ˜¥æ±Ÿ                    â”‚  â”‚ â† è¯—æ­Œå¡ç‰‡
â”‚  â”‚  æŠŠä¸–ä¸Šæœ€ç¾çš„ç»¿è‰²æ‹¼å‡‘åœ¨ä¸€èµ·... â”‚  â”‚   ï¼ˆæ–°è¯—åœ¨é¡¶éƒ¨ï¼‰
â”‚  â”‚  4 åˆ†é’Ÿå‰                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å¤œæ€                          â”‚  â”‚
â”‚  â”‚  åºŠå‰æ˜æœˆå…‰ï¼Œç–‘æ˜¯åœ°ä¸Šéœœ...      â”‚  â”‚
â”‚  â”‚  1 å°æ—¶å‰                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å†™è¯— â†’ ä¿å­˜ â†’ ç«‹å³è¿”å›ã€è¯—é›†ã€‘Tab
              â†“
         æ–°è¯—åœ¨é¡¶éƒ¨é«˜äº®ï¼ˆçŸ­æš‚åŠ¨ç”»ï¼‰
         ç”¨æˆ·æ¸…æ¥šçœ‹åˆ°è¯—æ­Œå·²ä¿å­˜
```

**ä¼˜åŠ¿**ï¼š
- âœ… å†…å®¹å±•ç¤ºï¼šè¯—æ­Œåˆ—è¡¨æ¸…æ™°å¯è§
- âœ… åˆ›ä½œå…¥å£ï¼šå³ä¸Šè§’ã€+ã€‘ç®€æ´é†’ç›®
- âœ… æµç¨‹é—­ç¯ï¼šå†™å®Œè¯—ç«‹å³çœ‹åˆ°ç»“æœ
- âœ… æŒ‰éœ€åˆ†äº«ï¼šå›¾ç‰‡ç”Ÿæˆåªåœ¨åˆ†äº«æ—¶è¿›è¡Œ

---

## ğŸ“ æ–°çš„ Tab ç»“æ„

### 4 ä¸ª Tabï¼ˆä¸å˜ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å­¦è¯—  â”‚  è¯—é›†  â”‚  å¹¿åœº  â”‚  æˆ‘çš„   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ã€å­¦è¯—ã€‘= è¯—è¯å­¦ä¹ å†…å®¹ï¼ˆä¸å˜ï¼‰
ã€è¯—é›†ã€‘= æˆ‘çš„è¯—æ­Œ + åˆ›ä½œå…¥å£ï¼ˆåŸã€å†™è¯—ã€‘Tabï¼‰
ã€å¹¿åœºã€‘= ç¤¾åŒºå¹¿åœºï¼ˆä¸å˜ï¼‰
ã€æˆ‘çš„ã€‘= ä¸ªäººä¸­å¿ƒï¼ˆä¸å˜ï¼‰
```

### Tab åŠŸèƒ½è°ƒæ•´

| Tab | æ—§åç§° | æ–°åç§° | åŠŸèƒ½å˜åŒ– |
|-----|-------|-------|---------|
| 1 | å­¦è¯— | å­¦è¯— | âœ… æ— å˜åŒ– |
| 2 | **å†™è¯—** | **è¯—é›†** | ğŸ”„ é‡æ„ï¼šä¸‰ä¸ªæŒ‰é’® â†’ è¯—æ­Œåˆ—è¡¨ + ã€+ã€‘æŒ‰é’® |
| 3 | å¹¿åœº | å¹¿åœº | âœ… æ— å˜åŒ– |
| 4 | æˆ‘çš„ | æˆ‘çš„ | ğŸ”„ ç§»é™¤ï¼šè¯—é›†ã€è‰ç¨¿ã€å·²å‘å¸ƒï¼ˆç§»åˆ°ã€è¯—é›†ã€‘Tabï¼‰ |

---

## ğŸ¨ ã€è¯—é›†ã€‘Tab è¯¦ç»†è®¾è®¡

### 1. æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  å¯¼èˆªæ                       â”‚    â”‚ â† Section 1: å¯¼èˆªæ 
â”‚  â”‚  è¯—é›†  ğŸ”  [+]              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Tab åˆ‡æ¢                    â”‚    â”‚ â† Section 2: åˆ†ç±» Tab
â”‚  â”‚  [è¯—é›†] [è‰ç¨¿] [å·²å‘å¸ƒ]      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                             â”‚    â”‚
â”‚  â”‚  è¯—æ­Œåˆ—è¡¨                    â”‚    â”‚ â† Section 3: å†…å®¹åŒºåŸŸ
â”‚  â”‚  ï¼ˆå¯æ»šåŠ¨ï¼‰                  â”‚    â”‚   ï¼ˆScrollViewï¼‰
â”‚  â”‚                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. å¯¼èˆªæ è®¾è®¡

#### 2.1 å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯—é›†               ğŸ”      [+]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†‘                  â†‘       â†‘
  æ ‡é¢˜               æœç´¢     åˆ›ä½œæŒ‰é’®
```

#### 2.2 å…ƒç´ è¯´æ˜

| å…ƒç´  | ä½ç½® | æ ·å¼ | åŠŸèƒ½ |
|-----|-----|------|------|
| **æ ‡é¢˜** | å·¦ä¾§ | `Fonts.titleLarge()`ï¼Œç²—ä½“ | æ˜¾ç¤º"è¯—é›†" |
| **æœç´¢å›¾æ ‡** | å³ä¾§ç¬¬äºŒä¸ª | `SF Symbol: magnifyingglass` | ç‚¹å‡»æ‰“å¼€æœç´¢ç•Œé¢ |
| **åˆ›ä½œæŒ‰é’®** | å³ä¾§ç¬¬ä¸€ä¸ª | `SF Symbol: plus.circle.fill`ï¼Œé’è‰² | ç‚¹å‡»å¼¹å‡ºåˆ›ä½œæ¨¡å¼é€‰æ‹©å™¨ |

#### 2.3 ä»£ç ç¤ºä¾‹
```swift
struct PoetryCollectionView: View {
    @State private var showCreateModeSelector = false
    @State private var showSearch = false
    
    var body: some View {
        NavigationView {
            VStack(spacing: 0) {
                // Tab åˆ‡æ¢
                tabSwitcher
                
                // è¯—æ­Œåˆ—è¡¨
                poemsList
            }
            .navigationTitle("è¯—é›†")
            .navigationBarTitleDisplayMode(.large)
            .toolbar {
                ToolbarItem(placement: .navigationBarTrailing) {
                    HStack(spacing: 16) {
                        // æœç´¢æŒ‰é’®
                        Button(action: { showSearch = true }) {
                            Image(systemName: "magnifyingglass")
                                .foregroundColor(Colors.textSecondary)
                        }
                        
                        // åˆ›ä½œæŒ‰é’®
                        Button(action: { showCreateModeSelector = true }) {
                            Image(systemName: "plus.circle.fill")
                                .font(.system(size: 28))
                                .foregroundColor(Colors.accentTeal)
                        }
                    }
                }
            }
            .sheet(isPresented: $showCreateModeSelector) {
                CreateModeSelectorView()
            }
            .sheet(isPresented: $showSearch) {
                SearchView()
            }
        }
    }
}
```

---

### 3. Tab åˆ‡æ¢è®¾è®¡

#### 3.1 ä¸‰ä¸ªåˆ†ç±»

| Tab | æ˜¾ç¤ºå†…å®¹ | ç­›é€‰æ¡ä»¶ |
|-----|---------|---------|
| **è¯—é›†** | æ‰€æœ‰å·²ä¿å­˜çš„è¯—ï¼ˆä¸å«è‰ç¨¿ï¼‰ | `poem.isDraft == false` |
| **è‰ç¨¿** | æœªå®Œæˆçš„è¯— | `poem.isDraft == true` |
| **å·²å‘å¸ƒ** | å·²å‘å¸ƒåˆ°å¹¿åœºçš„è¯— | `poem.inSquare == true` |

#### 3.2 UI æ ·å¼
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [è¯—é›†] [è‰ç¨¿] [å·²å‘å¸ƒ]              â”‚
â”‚   ^^^^                              â”‚ â† é€‰ä¸­çŠ¶æ€ï¼šé’è‰²ä¸‹åˆ’çº¿
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **é€‰ä¸­çŠ¶æ€**ï¼šæ–‡å­—é’è‰² + åº•éƒ¨é’è‰²ä¸‹åˆ’çº¿ï¼ˆ2ptï¼‰
- **æœªé€‰ä¸­çŠ¶æ€**ï¼šæ–‡å­—ç°è‰²
- **åˆ‡æ¢åŠ¨ç”»**ï¼šä¸‹åˆ’çº¿æ»‘åŠ¨ï¼ˆ0.3s ease-outï¼‰

#### 3.3 ä»£ç ç¤ºä¾‹
```swift
enum CollectionTab: String, CaseIterable {
    case collection = "è¯—é›†"
    case drafts = "è‰ç¨¿"
    case published = "å·²å‘å¸ƒ"
}

struct TabSwitcher: View {
    @Binding var selectedTab: CollectionTab
    
    var body: some View {
        HStack(spacing: 0) {
            ForEach(CollectionTab.allCases, id: \.self) { tab in
                Button(action: {
                    withAnimation(.easeOut(duration: 0.3)) {
                        selectedTab = tab
                    }
                }) {
                    VStack(spacing: 8) {
                        Text(tab.rawValue)
                            .font(Fonts.bodyRegular())
                            .foregroundColor(selectedTab == tab ? Colors.accentTeal : Colors.textSecondary)
                        
                        // ä¸‹åˆ’çº¿
                        Rectangle()
                            .fill(selectedTab == tab ? Colors.accentTeal : Color.clear)
                            .frame(height: 2)
                    }
                }
                .frame(maxWidth: .infinity)
            }
        }
        .padding(.horizontal, Spacing.lg)
        .padding(.vertical, Spacing.sm)
    }
}
```

---

### 4. è¯—æ­Œå¡ç‰‡è®¾è®¡

#### 4.1 å¡ç‰‡å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  çƒŸé›¨å¯Œæ˜¥æ±Ÿ                        â”‚ â† æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰
â”‚  æŠŠä¸–ä¸Šæœ€ç¾çš„ç»¿è‰²æ‹¼å‡‘åœ¨ä¸€èµ·...     â”‚ â† å†…å®¹é¢„è§ˆï¼ˆ2è¡Œæˆªæ–­ï¼‰
â”‚  4 åˆ†é’Ÿå‰                          â”‚ â† æ—¶é—´æˆ³
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.2 æ ·å¼è§„èŒƒ

| å…ƒç´  | å­—ä½“ | é¢œè‰² | å…¶ä»– |
|-----|------|------|------|
| **æ ‡é¢˜** | `Fonts.bodyLargeBold()` (18pt) | `Colors.textInk` | å•è¡Œï¼Œè¶…å‡ºæ˜¾ç¤ºçœç•¥å· |
| **å†…å®¹** | `Fonts.bodyRegular()` (16pt) | `Colors.textSecondary` | æœ€å¤š 2 è¡Œï¼Œè¶…å‡ºæˆªæ–­ + `...` |
| **æ—¶é—´** | `Fonts.caption()` (13pt) | `Colors.textTertiary` | ç›¸å¯¹æ—¶é—´ï¼ˆåˆšåˆšã€5åˆ†é’Ÿå‰ã€æ˜¨å¤©ï¼‰ |

#### 4.3 é—´è·å’Œå°ºå¯¸
- **å¡ç‰‡å†…è¾¹è·**ï¼š`16pt`ï¼ˆä¸Šä¸‹å·¦å³ï¼‰
- **å¡ç‰‡é—´è·**ï¼š`12pt`
- **å¡ç‰‡èƒŒæ™¯**ï¼š`Colors.white`ï¼ˆæµ…è‰²æ¨¡å¼ï¼‰/ `Colors.cardDark`ï¼ˆæ·±è‰²æ¨¡å¼ï¼‰
- **å¡ç‰‡åœ†è§’**ï¼š`CornerRadius.medium` (12pt)
- **ç‚¹å‡»æ•ˆæœ**ï¼šè½»å¾®ç¼©æ”¾ `scale(0.98)`

#### 4.4 ä»£ç ç¤ºä¾‹
```swift
struct PoemCard: View {
    let poem: Poem
    
    var body: some View {
        VStack(alignment: .leading, spacing: 8) {
            // æ ‡é¢˜ï¼ˆå¦‚æœæœ‰ï¼‰
            if !poem.title.isEmpty {
                Text(poem.title)
                    .font(Fonts.bodyLargeBold())
                    .foregroundColor(Colors.textInk)
                    .lineLimit(1)
            }
            
            // å†…å®¹é¢„è§ˆ
            Text(poem.content)
                .font(Fonts.bodyRegular())
                .foregroundColor(Colors.textSecondary)
                .lineLimit(2)
            
            // æ—¶é—´æˆ³
            Text(poem.shortDate)
                .font(Fonts.caption())
                .foregroundColor(Colors.textTertiary)
        }
        .padding(Spacing.md)
        .frame(maxWidth: .infinity, alignment: .leading)
        .background(Colors.white)
        .cornerRadius(CornerRadius.medium)
        .shadow(color: .black.opacity(0.03), radius: 8, x: 0, y: 2)
    }
}
```

---

### 5. åˆ›ä½œæ¨¡å¼é€‰æ‹©å™¨

#### 5.1 è§¦å‘æ–¹å¼
ç‚¹å‡»å³ä¸Šè§’ã€+ã€‘æŒ‰é’®ï¼Œä»åº•éƒ¨å¼¹å‡ºåŠå±å¼¹çª—ï¼ˆ`.sheet`ï¼‰

#### 5.2 å¸ƒå±€è®¾è®¡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚    é€‰æ‹©å†™è¯—æ¨¡å¼                      â”‚ â† æ ‡é¢˜
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ¨ ä¸»é¢˜å†™è¯—                   â”‚  â”‚ â† æ¨¡å¼ 1
â”‚  â”‚  AI ç»™ä½ çµæ„Ÿä¸»é¢˜               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ–¼ï¸ ä¸´æ‘¹å†™è¯—                   â”‚  â”‚ â† æ¨¡å¼ 2
â”‚  â”‚  æ¨¡ä»¿ç»å…¸è¯—è¯é£æ ¼              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  âœï¸ ç›´æ¥å†™è¯—                   â”‚  â”‚ â† æ¨¡å¼ 3
â”‚  â”‚  è‡ªç”±å‘æŒ¥åˆ›ä½œ                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚             [å–æ¶ˆ]                  â”‚ â† å–æ¶ˆæŒ‰é’®
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.3 äº¤äº’è¡Œä¸º
- **å¼¹å‡ºåŠ¨ç”»**ï¼šä»åº•éƒ¨æ»‘å…¥ï¼ˆ0.4s ease-outï¼‰
- **ç‚¹å‡»æ¨¡å¼**ï¼šç«‹å³è·³è½¬åˆ°å¯¹åº”å†™è¯—é¡µé¢ + å…³é—­é€‰æ‹©å™¨
- **ç‚¹å‡»å–æ¶ˆ**ï¼šé€‰æ‹©å™¨æ»‘å‡ºï¼ˆ0.3s ease-inï¼‰
- **ç‚¹å‡»èƒŒæ™¯**ï¼šåŒç‚¹å‡»å–æ¶ˆ

#### 5.4 ä»£ç ç¤ºä¾‹
```swift
struct CreateModeSelectorView: View {
    @Environment(\.dismiss) private var dismiss
    @State private var navigateToMode: WritingMode? = nil
    
    enum WritingMode {
        case theme, mimic, direct
    }
    
    var body: some View {
        NavigationView {
            VStack(spacing: Spacing.lg) {
                Text("é€‰æ‹©å†™è¯—æ¨¡å¼")
                    .font(Fonts.titleMedium())
                    .foregroundColor(Colors.textInk)
                    .padding(.top, Spacing.xl)
                
                // ä¸»é¢˜å†™è¯—
                ModeButton(
                    icon: "ğŸ¨",
                    title: "ä¸»é¢˜å†™è¯—",
                    subtitle: "AI ç»™ä½ çµæ„Ÿä¸»é¢˜",
                    action: { navigateToMode = .theme }
                )
                
                // ä¸´æ‘¹å†™è¯—
                ModeButton(
                    icon: "ğŸ–¼ï¸",
                    title: "ä¸´æ‘¹å†™è¯—",
                    subtitle: "æ¨¡ä»¿ç»å…¸è¯—è¯é£æ ¼",
                    action: { navigateToMode = .mimic }
                )
                
                // ç›´æ¥å†™è¯—
                ModeButton(
                    icon: "âœï¸",
                    title: "ç›´æ¥å†™è¯—",
                    subtitle: "è‡ªç”±å‘æŒ¥åˆ›ä½œ",
                    action: { navigateToMode = .direct }
                )
                
                Spacer()
                
                // å–æ¶ˆæŒ‰é’®
                Button("å–æ¶ˆ") {
                    dismiss()
                }
                .font(Fonts.bodyRegular())
                .foregroundColor(Colors.textSecondary)
                .padding(.bottom, Spacing.xl)
            }
            .padding(.horizontal, Spacing.xl)
            .background(Colors.backgroundCream)
            .navigationDestination(item: $navigateToMode) { mode in
                switch mode {
                case .theme:
                    ThemeWritingView()
                case .mimic:
                    MimicWritingView()
                case .direct:
                    DirectWritingView()
                }
            }
        }
        .presentationDetents([.medium])
        .presentationDragIndicator(.visible)
    }
}

struct ModeButton: View {
    let icon: String
    let title: String
    let subtitle: String
    let action: () -> Void
    
    var body: some View {
        Button(action: action) {
            HStack(spacing: Spacing.md) {
                Text(icon)
                    .font(.system(size: 32))
                
                VStack(alignment: .leading, spacing: 4) {
                    Text(title)
                        .font(Fonts.bodyLargeBold())
                        .foregroundColor(Colors.textInk)
                    
                    Text(subtitle)
                        .font(Fonts.caption())
                        .foregroundColor(Colors.textSecondary)
                }
                
                Spacer()
                
                Image(systemName: "chevron.right")
                    .font(.system(size: 14))
                    .foregroundColor(Colors.textTertiary)
            }
            .padding(Spacing.md)
            .background(Colors.white)
            .cornerRadius(CornerRadius.medium)
        }
        .buttonStyle(ScaleButtonStyle())
    }
}
```

---

### 6. æœç´¢åŠŸèƒ½

#### 6.1 æœç´¢ç•Œé¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [<]  æœç´¢è¯—æ­Œ              [å–æ¶ˆ]   â”‚ â† å¯¼èˆªæ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” ___________________________     â”‚ â† æœç´¢æ¡†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  æœ€è¿‘æœç´¢ï¼š                          â”‚ â† æœç´¢å†å²
â”‚  â€¢ çƒŸé›¨                             â”‚   ï¼ˆç‚¹å‡»å¯å¿«é€Ÿå¡«å……ï¼‰
â”‚  â€¢ æ˜¥æ±Ÿ                             â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                     â”‚
â”‚  æœç´¢ç»“æœï¼š                          â”‚ â† æœç´¢ç»“æœ
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   ï¼ˆåŠ¨æ€æ˜¾ç¤ºï¼‰
â”‚  â”‚  çƒŸé›¨å¯Œæ˜¥æ±Ÿ                    â”‚  â”‚
â”‚  â”‚  æŠŠä¸–ä¸Šæœ€ç¾çš„ç»¿è‰²...           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 6.2 æœç´¢é€»è¾‘
- **æœç´¢èŒƒå›´**ï¼šæ ‡é¢˜ + å†…å®¹
- **å®æ—¶æœç´¢**ï¼šè¾“å…¥æ—¶åŠ¨æ€æ›´æ–°ç»“æœ
- **æœç´¢å†å²**ï¼šè®°å½•æœ€è¿‘ 5 æ¬¡æœç´¢ï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰
- **é«˜äº®æ˜¾ç¤º**ï¼šæœç´¢å…³é”®è¯åœ¨ç»“æœä¸­é«˜äº®

---

## ğŸ”„ å†™è¯—æµç¨‹ä¼˜åŒ–

### æ—§æµç¨‹ï¼ˆæœ‰é—®é¢˜ï¼‰

```
ã€å†™è¯—ã€‘Tab
    â†“
ç‚¹å‡»"ä¸»é¢˜å†™è¯—"
    â†“
ThemeWritingViewï¼ˆå†™è¯—é¡µé¢ï¼‰
    â†“
ç‚¹å‡»"ä¿å­˜"
    â†“
PoemSuccessViewï¼ˆå¼ºåˆ¶ç”Ÿæˆå›¾ç‰‡ï¼‰
    â”œâ”€ å›¾ç‰‡é¢„è§ˆ
    â”œâ”€ AI ç‚¹è¯„
    â”œâ”€ ä¿å­˜å›¾ç‰‡
    â”œâ”€ åˆ†äº«
    â”œâ”€ å‘å¸ƒåˆ°å¹¿åœº
    â””â”€ å†å†™ä¸€é¦–
    â†“
è¯—æ­Œä¿å­˜åˆ°ã€æˆ‘çš„ã€‘Tabï¼ˆç”¨æˆ·ä¸çŸ¥é“ï¼‰
```

**é—®é¢˜**ï¼š
- âŒ å¼ºåˆ¶ç”Ÿæˆå›¾ç‰‡ï¼ˆè€—æ—¶ã€ä¸å¿…è¦ï¼‰
- âŒ ç”¨æˆ·ä¸çŸ¥é“è¯—æ­Œä¿å­˜åˆ°å“ªé‡Œ
- âŒ è¦å†å†™ä¸€é¦–å¿…é¡»ç‚¹"å†å†™ä¸€é¦–"

---

### æ–°æµç¨‹ï¼ˆä¼˜åŒ–åï¼‰

```
ã€è¯—é›†ã€‘Tab
    â†“
ç‚¹å‡»å³ä¸Šè§’ã€+ã€‘
    â†“
é€‰æ‹©"ä¸»é¢˜å†™è¯—"
    â†“
ThemeWritingViewï¼ˆå†™è¯—é¡µé¢ï¼‰
    â†“
ç‚¹å‡»"ä¿å­˜"
    â†“
çŸ­æš‚æˆåŠŸåŠ¨ç”»ï¼ˆ1ç§’ï¼‰
    â”œâ”€ âœ¨ è¯—æ­Œé£å…¥è¯—é›†åŠ¨ç”»
    â””â”€ Toastï¼š"å·²ä¿å­˜"
    â†“
è‡ªåŠ¨è¿”å›ã€è¯—é›†ã€‘Tab
    â”œâ”€ æ–°è¯—åœ¨åˆ—è¡¨é¡¶éƒ¨
    â”œâ”€ æ–°è¯—å¡ç‰‡çŸ­æš‚é«˜äº®ï¼ˆ2ç§’ï¼‰
    â””â”€ ç”¨æˆ·æ¸…æ¥šçœ‹åˆ°è¯—æ­Œå·²ä¿å­˜
    â†“
ç”¨æˆ·å¯ä»¥ï¼š
    â”œâ”€ ç»§ç»­ç‚¹ã€+ã€‘å†™ä¸‹ä¸€é¦–
    â”œâ”€ ç‚¹å‡»è¯—æ­Œå¡ç‰‡æŸ¥çœ‹è¯¦æƒ…
    â””â”€ æ»‘åŠ¨æµè§ˆæ‰€æœ‰è¯—æ­Œ
```

**ä¼˜åŠ¿**ï¼š
- âœ… ä¸ç”Ÿæˆå›¾ç‰‡ï¼ˆæŒ‰éœ€ç”Ÿæˆï¼‰
- âœ… è¯—æ­Œä¿å­˜ä½ç½®æ¸…æ™°å¯è§
- âœ… ç»§ç»­å†™è¯—æµç¨‹è‡ªç„¶ï¼ˆç‚¹ã€+ã€‘å³å¯ï¼‰

---

### å†™è¯—é¡µé¢ä¿®æ”¹

#### 3.1 ä¿å­˜æŒ‰é’®
- **ä½ç½®**ï¼šå¯¼èˆªæ å³ä¸Šè§’
- **æ–‡å­—**ï¼š`ä¿å­˜`
- **æ ·å¼**ï¼šé’è‰²

#### 3.2 ä¿å­˜é€»è¾‘
```swift
// æ—§é€»è¾‘ï¼ˆåˆ é™¤ï¼‰
private func savePoem() {
    // ä¿å­˜è¯—æ­Œ
    poemManager.savePoem(poem)
    
    // ç”Ÿæˆå›¾ç‰‡
    generatePoemImage()
    
    // å¼¹å‡º PoemSuccessView
    showSuccessView = true
}

// æ–°é€»è¾‘ï¼ˆç®€åŒ–ï¼‰
private func savePoem() {
    // ä¿å­˜è¯—æ­Œ
    poemManager.savePoem(poem)
    
    // æ˜¾ç¤ºæˆåŠŸåŠ¨ç”»å’Œ Toast
    withAnimation(.spring()) {
        showSaveAnimation = true
    }
    ToastManager.shared.showSuccess("å·²ä¿å­˜")
    
    // 1ç§’åè¿”å›è¯—é›†
    DispatchQueue.main.asyncAfter(deadline: .now() + 1.0) {
        dismiss()  // è¿”å›ã€è¯—é›†ã€‘Tab
    }
}
```

---

## ğŸ¬ ç”¨æˆ·ä½“éªŒæµç¨‹

### æµç¨‹ 1ï¼šé¦–æ¬¡æ‰“å¼€ã€è¯—é›†ã€‘Tab

```
æ‰“å¼€ App â†’ ç‚¹å‡»ã€è¯—é›†ã€‘Tab
    â†“
å±•ç¤ºè¯—æ­Œåˆ—è¡¨
    â”œâ”€ å¦‚æœæœ‰è¯—ï¼šæ˜¾ç¤ºæ‰€æœ‰è¯—æ­Œï¼ˆæœ€æ–°åœ¨é¡¶éƒ¨ï¼‰
    â””â”€ å¦‚æœæ²¡è¯—ï¼šæ˜¾ç¤ºç©ºçŠ¶æ€
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         ğŸ“                  â”‚
        â”‚    è¿˜æ²¡æœ‰è¯—æ­Œ                â”‚
        â”‚  ç‚¹å‡»å³ä¸Šè§’ + å¼€å§‹åˆ›ä½œ       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æµç¨‹ 2ï¼šåˆ›ä½œæ–°è¯—

```
ã€è¯—é›†ã€‘Tab â†’ ç‚¹å‡»å³ä¸Šè§’ã€+ã€‘
    â†“
å¼¹å‡ºåˆ›ä½œæ¨¡å¼é€‰æ‹©å™¨
    â”œâ”€ ä¸»é¢˜å†™è¯—
    â”œâ”€ ä¸´æ‘¹å†™è¯—
    â””â”€ ç›´æ¥å†™è¯—
    â†“
é€‰æ‹©"ä¸»é¢˜å†™è¯—"
    â†“
è¿›å…¥ ThemeWritingView
    â”œâ”€ AI ç”Ÿæˆä¸»é¢˜
    â””â”€ ç”¨æˆ·å¼€å§‹å†™è¯—
    â†“
å†™å®Œåç‚¹å‡»å³ä¸Šè§’"ä¿å­˜"
    â†“
çŸ­æš‚æˆåŠŸåŠ¨ç”»ï¼ˆ1ç§’ï¼‰
    â†“
è‡ªåŠ¨è¿”å›ã€è¯—é›†ã€‘Tab
    â”œâ”€ æ–°è¯—å‡ºç°åœ¨åˆ—è¡¨é¡¶éƒ¨
    â”œâ”€ æ–°è¯—å¡ç‰‡çŸ­æš‚é«˜äº®ï¼ˆé’è‰²è¾¹æ¡†ï¼Œ2ç§’ï¼‰
    â””â”€ Toastï¼š"å·²ä¿å­˜"
```

---

### æµç¨‹ 3ï¼šæŸ¥çœ‹å’Œç¼–è¾‘è¯—æ­Œ

```
ã€è¯—é›†ã€‘Tab â†’ ç‚¹å‡»æŸé¦–è¯—æ­Œå¡ç‰‡
    â†“
è¿›å…¥ MyPoemDetailView
    â”œâ”€ é¡¶éƒ¨ï¼šæ ‡é¢˜ + å†…å®¹ï¼ˆå¯ç¼–è¾‘ï¼‰
    â””â”€ å³ä¸Šè§’ï¼šã€åˆ†äº«ã€‘ã€åˆ é™¤ã€‘
    â†“
ç¼–è¾‘è¯—æ­Œï¼ˆå¦‚æœéœ€è¦ï¼‰
    â”œâ”€ å®æ—¶è‡ªåŠ¨ä¿å­˜
    â””â”€ ä¿®æ”¹åç«‹å³åŒæ­¥åˆ°åˆ—è¡¨
    â†“
ç‚¹å‡»å³ä¸Šè§’ã€åˆ†äº«ã€‘
    â†“
è¿›å…¥ TemplateShareViewï¼ˆå…¨å±ï¼‰
    â”œâ”€ å›¾ç‰‡é¢„è§ˆï¼ˆé»˜è®¤æ¨¡æ¿ï¼‰
    â”œâ”€ ã€é€‰æ‹©æ¨¡æ¿ã€‘æŒ‰é’®
    â”œâ”€ æ¨¡æ¿ç¼©ç•¥å›¾åˆ—è¡¨ï¼ˆç‚¹å‡»åå±•å¼€ï¼‰
    â””â”€ æ“ä½œæŒ‰é’®ï¼š
        â”œâ”€ AI ç‚¹è¯„
        â”œâ”€ ä¿å­˜å›¾ç‰‡
        â”œâ”€ åˆ†äº«
        â””â”€ å‘å¸ƒåˆ°å¹¿åœº
```

---

### æµç¨‹ 4ï¼šåˆ†äº«è¯—æ­Œ

```
MyPoemDetailView â†’ ç‚¹å‡»å³ä¸Šè§’ã€åˆ†äº«ã€‘
    â†“
ç”Ÿæˆé»˜è®¤æ¨¡æ¿å›¾ç‰‡ï¼ˆLovart æç®€ï¼‰
    â†“
å¼¹å‡º TemplateShareViewï¼ˆå…¨å±ï¼‰
    â”œâ”€ å›¾ç‰‡é¢„è§ˆåŒºåŸŸï¼ˆæ˜¾ç¤ºé»˜è®¤æ¨¡æ¿ï¼‰
    â”œâ”€ ã€é€‰æ‹©æ¨¡æ¿ã€‘æŒ‰é’®ï¼ˆé’è‰²ï¼‰
    â””â”€ æ“ä½œæŒ‰é’®ï¼ˆAIç‚¹è¯„ã€ä¿å­˜å›¾ç‰‡ã€åˆ†äº«ï¼‰
    â†“
ç‚¹å‡»ã€é€‰æ‹©æ¨¡æ¿ã€‘
    â†“
åº•éƒ¨å¼¹å‡ºæ¨¡æ¿ç¼©ç•¥å›¾åˆ—è¡¨
    â”œâ”€ æç®€ â”‚ å±±æµ· â”‚ èµ›åš â”‚ å’Œé£ â”‚ ...
    â””â”€ æ¨ªå‘æ»‘åŠ¨æµè§ˆ
    â†“
ç‚¹å‡»"å±±æµ·å›½é£"æ¨¡æ¿
    â†“
å›¾ç‰‡é¢„è§ˆå®æ—¶åˆ‡æ¢ä¸ºå›½é£æ¨¡æ¿
    â”œâ”€ æŒ‰é’®å˜ä¸ºã€ç¡®è®¤ã€‘
    â””â”€ å¯ç»§ç»­ç‚¹å‡»å…¶ä»–æ¨¡æ¿
    â†“
ç‚¹å‡»ã€ç¡®è®¤ã€‘
    â†“
æ¨¡æ¿é€‰æ‹©å™¨æ»‘å‡º
    â”œâ”€ æŒ‰é’®æ¢å¤ä¸ºã€é€‰æ‹©æ¨¡æ¿ã€‘
    â””â”€ å›¾ç‰‡ä¿æŒé€‰ä¸­çš„æ¨¡æ¿
    â†“
ç‚¹å‡»"åˆ†äº«"æŒ‰é’®
    â†“
æ‰“å¼€ç³»ç»Ÿåˆ†äº«é¢æ¿
    â””â”€ åˆ†äº«åˆ°å¾®ä¿¡/æœ‹å‹åœˆ/ä¿å­˜å›¾ç‰‡
```

---

## ğŸ“± ã€æˆ‘çš„ã€‘Tab è°ƒæ•´

### ç§»é™¤å†…å®¹
ç”±äºè¯—é›†ã€è‰ç¨¿ã€å·²å‘å¸ƒéƒ½ç§»åˆ°äº†ã€è¯—é›†ã€‘Tabï¼Œã€æˆ‘çš„ã€‘Tab éœ€è¦ç§»é™¤è¿™äº›å†…å®¹ï¼š

### è°ƒæ•´å‰
```
ã€æˆ‘çš„ã€‘Tab
â”œâ”€ ä¸ªäººä¿¡æ¯ï¼ˆç¬”åã€ç§°å·ï¼‰
â”œâ”€ ä¼šå‘˜å¡
â”œâ”€ Tab åˆ‡æ¢ï¼šè¯—é›† / è‰ç¨¿ / å¹¿åœº  â† åˆ é™¤
â”œâ”€ è¯—æ­Œåˆ—è¡¨                     â† åˆ é™¤
â””â”€ è®¾ç½®
```

### è°ƒæ•´å
```
ã€æˆ‘çš„ã€‘Tab
â”œâ”€ ä¸ªäººä¿¡æ¯ï¼ˆç¬”åã€ç§°å·ï¼‰
â”œâ”€ ä¼šå‘˜å¡
â”œâ”€ ç»Ÿè®¡æ•°æ®ï¼ˆå·²å†™ X é¦–è¯—ã€è·å¾— X ä¸ªèµï¼‰
â”œâ”€ è¯—äººç­‰çº§
â””â”€ è®¾ç½®
```

**è¯´æ˜**ï¼š
- âœ… ä¿ç•™ä¸ªäººä¿¡æ¯å’Œè®¾ç½®
- âœ… ç§»é™¤è¯—æ­Œåˆ—è¡¨ï¼ˆå·²ç§»åˆ°ã€è¯—é›†ã€‘Tabï¼‰
- âœ… ä¿ç•™ç»Ÿè®¡æ•°æ®ï¼ˆç‚¹å‡»å¯è·³è½¬åˆ°ã€è¯—é›†ã€‘Tabï¼‰

---

## ğŸ›  æŠ€æœ¯å®ç°

### 1. æ–‡ä»¶æ”¹åŠ¨

#### 1.1 æ–°å¢æ–‡ä»¶
```
Views/
â””â”€â”€ Collection/                                // æ–°å¢æ–‡ä»¶å¤¹
    â”œâ”€â”€ PoetryCollectionView.swift             // ã€è¯—é›†ã€‘Tab ä¸»ç•Œé¢
    â”œâ”€â”€ CreateModeSelectorView.swift           // åˆ›ä½œæ¨¡å¼é€‰æ‹©å™¨
    â””â”€â”€ SearchView.swift                       // æœç´¢ç•Œé¢
```

#### 1.2 ä¿®æ”¹æ–‡ä»¶
```
Views/
â”œâ”€â”€ Writing/
â”‚   â”œâ”€â”€ ThemeWritingView.swift                 // ä¿®æ”¹ï¼šä¿å­˜é€»è¾‘
â”‚   â”œâ”€â”€ MimicWritingView.swift                 // ä¿®æ”¹ï¼šä¿å­˜é€»è¾‘
â”‚   â””â”€â”€ DirectWritingView.swift                // ä¿®æ”¹ï¼šä¿å­˜é€»è¾‘
â”œâ”€â”€ Profile/
â”‚   â”œâ”€â”€ ProfileView.swift                      // ä¿®æ”¹ï¼šç§»é™¤è¯—é›†/è‰ç¨¿/å¹¿åœº Tab
â”‚   â””â”€â”€ MyPoemDetailView.swift                 // ä¿æŒä¸å˜
â””â”€â”€ BetweenLinesApp.swift                      // ä¿®æ”¹ï¼šTab åç§°å’Œé¡ºåº
```

#### 1.3 åˆ é™¤æ–‡ä»¶
```
Views/
â””â”€â”€ Writing/
    â””â”€â”€ PoemSuccessView.swift                  // åˆ é™¤ï¼ˆä¸å†éœ€è¦ï¼‰
```

---

### 2. æ ¸å¿ƒä»£ç å®ç°

#### 2.1 `BetweenLinesApp.swift`ï¼ˆä¿®æ”¹ Tab ç»“æ„ï¼‰

```swift
struct BetweenLinesApp: App {
    @StateObject private var poemManager = PoemManager.shared
    
    var body: some Scene {
        WindowGroup {
            if isFirstLaunch {
                OnboardingView()
            } else {
                TabView {
                    // Tab 1: å­¦è¯—ï¼ˆä¸å˜ï¼‰
                    LearnView()
                        .tabItem {
                            Label("å­¦è¯—", systemImage: "book")
                        }
                    
                    // Tab 2: è¯—é›†ï¼ˆåŸã€å†™è¯—ã€‘Tabï¼‰
                    PoetryCollectionView()
                        .tabItem {
                            Label("è¯—é›†", systemImage: "text.book.closed")
                        }
                    
                    // Tab 3: å¹¿åœºï¼ˆä¸å˜ï¼‰
                    ExploreView()
                        .tabItem {
                            Label("å¹¿åœº", systemImage: "globe.asia.australia")
                        }
                    
                    // Tab 4: æˆ‘çš„ï¼ˆç®€åŒ–ï¼‰
                    ProfileView()
                        .tabItem {
                            Label("æˆ‘çš„", systemImage: "person")
                        }
                }
                .accentColor(Colors.accentTeal)
            }
        }
    }
}
```

---

#### 2.2 `PoetryCollectionView.swift`ï¼ˆæ–°å¢ï¼‰

```swift
struct PoetryCollectionView: View {
    @StateObject private var poemManager = PoemManager.shared
    @State private var selectedTab: CollectionTab = .collection
    @State private var showCreateModeSelector = false
    @State private var showSearch = false
    
    enum CollectionTab: String, CaseIterable {
        case collection = "è¯—é›†"
        case drafts = "è‰ç¨¿"
        case published = "å·²å‘å¸ƒ"
    }
    
    var body: some View {
        NavigationView {
            VStack(spacing: 0) {
                // Tab åˆ‡æ¢
                tabSwitcher
                
                // è¯—æ­Œåˆ—è¡¨
                poemsList
            }
            .background(Colors.backgroundCream)
            .navigationTitle("è¯—é›†")
            .navigationBarTitleDisplayMode(.large)
            .toolbar {
                ToolbarItem(placement: .navigationBarTrailing) {
                    HStack(spacing: 16) {
                        // æœç´¢æŒ‰é’®
                        Button(action: { showSearch = true }) {
                            Image(systemName: "magnifyingglass")
                                .foregroundColor(Colors.textSecondary)
                        }
                        
                        // åˆ›ä½œæŒ‰é’®
                        Button(action: { showCreateModeSelector = true }) {
                            Image(systemName: "plus.circle.fill")
                                .font(.system(size: 28))
                                .foregroundColor(Colors.accentTeal)
                        }
                    }
                }
            }
            .sheet(isPresented: $showCreateModeSelector) {
                CreateModeSelectorView()
            }
            .sheet(isPresented: $showSearch) {
                SearchView()
            }
        }
    }
    
    private var tabSwitcher: some View {
        HStack(spacing: 0) {
            ForEach(CollectionTab.allCases, id: \.self) { tab in
                Button(action: {
                    withAnimation(.easeOut(duration: 0.3)) {
                        selectedTab = tab
                    }
                }) {
                    VStack(spacing: 8) {
                        Text(tab.rawValue)
                            .font(Fonts.bodyRegular())
                            .foregroundColor(selectedTab == tab ? Colors.accentTeal : Colors.textSecondary)
                        
                        Rectangle()
                            .fill(selectedTab == tab ? Colors.accentTeal : Color.clear)
                            .frame(height: 2)
                    }
                }
                .frame(maxWidth: .infinity)
            }
        }
        .padding(.horizontal, Spacing.lg)
        .padding(.vertical, Spacing.sm)
    }
    
    private var poemsList: some View {
        ScrollView {
            LazyVStack(spacing: Spacing.sm) {
                ForEach(currentPoems) { poem in
                    NavigationLink(destination: MyPoemDetailView(poem: poem, isDraft: poem.isDraft)) {
                        PoemCard(poem: poem)
                    }
                    .buttonStyle(PlainButtonStyle())
                }
            }
            .padding(Spacing.lg)
        }
    }
    
    private var currentPoems: [Poem] {
        switch selectedTab {
        case .collection:
            return poemManager.myCollection
        case .drafts:
            return poemManager.myDrafts
        case .published:
            return poemManager.myPublishedToSquare
        }
    }
}
```

---

#### 2.3 `ThemeWritingView.swift`ï¼ˆä¿®æ”¹ä¿å­˜é€»è¾‘ï¼‰

```swift
struct ThemeWritingView: View {
    @Environment(\.dismiss) private var dismiss
    @StateObject private var poemManager = PoemManager.shared
    @State private var showSaveAnimation = false
    
    // ... å…¶ä»–ä»£ç  ...
    
    private func saveDraft() {
        guard !content.isEmpty else {
            ToastManager.shared.showError("å†…å®¹ä¸èƒ½ä¸ºç©º")
            return
        }
        
        let poem = Poem(
            title: "",
            content: content,
            authorName: UserDefaults.standard.string(forKey: "penName") ?? "åŒ¿å",
            tags: ["ä¸»é¢˜å†™è¯—"],
            writingMode: .theme,
            isDraft: false,
            aiTheme: aiTheme
        )
        
        poemManager.savePoem(poem)
        
        // æ˜¾ç¤ºæˆåŠŸåŠ¨ç”»
        withAnimation(.spring()) {
            showSaveAnimation = true
        }
        ToastManager.shared.showSuccess("å·²ä¿å­˜")
        
        // 1ç§’åè¿”å›è¯—é›†
        DispatchQueue.main.asyncAfter(deadline: .now() + 1.0) {
            dismiss()
        }
    }
}
```

---

### 3. åŠ¨ç”»å®ç°

#### 3.1 ä¿å­˜æˆåŠŸåŠ¨ç”»

```swift
struct SaveSuccessAnimation: View {
    @Binding var isShowing: Bool
    
    var body: some View {
        ZStack {
            if isShowing {
                VStack(spacing: 16) {
                    Image(systemName: "checkmark.circle.fill")
                        .font(.system(size: 60))
                        .foregroundColor(.green)
                        .scaleEffect(isShowing ? 1.0 : 0.5)
                        .opacity(isShowing ? 1.0 : 0.0)
                    
                    Text("å·²ä¿å­˜")
                        .font(Fonts.bodyLargeBold())
                        .foregroundColor(Colors.textInk)
                }
                .padding(Spacing.xl)
                .background(Colors.white)
                .cornerRadius(CornerRadius.large)
                .shadow(color: .black.opacity(0.1), radius: 20, x: 0, y: 10)
                .transition(.scale.combined(with: .opacity))
            }
        }
        .onChange(of: isShowing) { newValue in
            if newValue {
                DispatchQueue.main.asyncAfter(deadline: .now() + 1.0) {
                    withAnimation {
                        isShowing = false
                    }
                }
            }
        }
    }
}
```

#### 3.2 æ–°è¯—é«˜äº®åŠ¨ç”»

```swift
struct PoemCard: View {
    let poem: Poem
    @State private var isHighlighted = false
    
    var body: some View {
        VStack(alignment: .leading, spacing: 8) {
            // ... å¡ç‰‡å†…å®¹ ...
        }
        .padding(Spacing.md)
        .background(Colors.white)
        .cornerRadius(CornerRadius.medium)
        .overlay(
            RoundedRectangle(cornerRadius: CornerRadius.medium)
                .stroke(isHighlighted ? Colors.accentTeal : Color.clear, lineWidth: 2)
        )
        .onAppear {
            // å¦‚æœæ˜¯æ–°è¯—ï¼ˆ5ç§’å†…åˆ›å»ºï¼‰ï¼Œæ˜¾ç¤ºé«˜äº®
            if Date().timeIntervalSince(poem.createdAt) < 5 {
                withAnimation(.easeInOut(duration: 0.5)) {
                    isHighlighted = true
                }
                
                DispatchQueue.main.asyncAfter(deadline: .now() + 2.0) {
                    withAnimation(.easeInOut(duration: 0.5)) {
                        isHighlighted = false
                    }
                }
            }
        }
    }
}
```

---

## ğŸ“Š æ•°æ®åŸ‹ç‚¹

### å…³é”®æŒ‡æ ‡
- **åˆ›ä½œé¢‘ç‡**ï¼šç”¨æˆ·ç‚¹å‡»ã€+ã€‘æŒ‰é’®çš„æ¬¡æ•°
- **æ¨¡å¼åå¥½**ï¼šä¸»é¢˜å†™è¯— vs ä¸´æ‘¹å†™è¯— vs ç›´æ¥å†™è¯—çš„ä½¿ç”¨æ¯”ä¾‹
- **ä¿å­˜ç‡**ï¼šå¼€å§‹å†™è¯— vs æˆåŠŸä¿å­˜çš„æ¯”ä¾‹
- **Tab åˆ‡æ¢**ï¼šè¯—é›† vs è‰ç¨¿ vs å·²å‘å¸ƒçš„æŸ¥çœ‹é¢‘ç‡

### åŸ‹ç‚¹äº‹ä»¶
```swift
// æ‰“å¼€è¯—é›† Tab
AnalyticsManager.log("collection_tab_opened")

// ç‚¹å‡»åˆ›ä½œæŒ‰é’®
AnalyticsManager.log("create_button_tapped")

// é€‰æ‹©åˆ›ä½œæ¨¡å¼
AnalyticsManager.log("create_mode_selected", params: [
    "mode": "theme" // æˆ– "mimic" / "direct"
])

// ä¿å­˜è¯—æ­Œ
AnalyticsManager.log("poem_saved", params: [
    "mode": "theme",
    "word_count": 120,
    "has_title": true
])

// åˆ‡æ¢ Tab
AnalyticsManager.log("collection_tab_switched", params: [
    "from": "collection",
    "to": "drafts"
])
```

---

## ğŸš€ å®æ–½è®¡åˆ’

### Phase 1ï¼šåŸºç¡€æ¶æ„ï¼ˆ0.5 å¤©ï¼‰
- [x] åˆ›å»º `PoetryCollectionView`
- [x] åˆ›å»º `CreateModeSelectorView`
- [x] ä¿®æ”¹ `BetweenLinesApp` Tab ç»“æ„
- [x] æµ‹è¯•åŸºæœ¬å¯¼èˆªå’Œ UI

### Phase 2ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼ˆ1 å¤©ï¼‰
- [x] å®ç° Tab åˆ‡æ¢é€»è¾‘
- [x] å®ç°è¯—æ­Œå¡ç‰‡ç»„ä»¶
- [x] ä¿®æ”¹å†™è¯—é¡µé¢ä¿å­˜é€»è¾‘
- [x] åˆ é™¤ `PoemSuccessView`

### Phase 3ï¼šåŠ¨ç”»å’Œä½“éªŒï¼ˆ0.5 å¤©ï¼‰
- [x] å®ç°ä¿å­˜æˆåŠŸåŠ¨ç”»
- [x] å®ç°æ–°è¯—é«˜äº®åŠ¨ç”»
- [x] ä¼˜åŒ–åˆ›ä½œæ¨¡å¼é€‰æ‹©å™¨åŠ¨ç”»
- [x] æµ‹è¯•æµç¨‹æµç•…åº¦

### Phase 4ï¼šæœç´¢å’Œä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰
- [ ] å®ç°æœç´¢åŠŸèƒ½
- [ ] ä¼˜åŒ–ç©ºçŠ¶æ€å±•ç¤º
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œæµ‹è¯•

---

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶
- [ ] ã€è¯—é›†ã€‘Tab æ˜¾ç¤ºæ‰€æœ‰è¯—æ­Œï¼ˆæœ€æ–°åœ¨é¡¶éƒ¨ï¼‰
- [ ] ç‚¹å‡»ã€+ã€‘æŒ‰é’®å¼¹å‡ºåˆ›ä½œæ¨¡å¼é€‰æ‹©å™¨
- [ ] é€‰æ‹©æ¨¡å¼åè¿›å…¥å¯¹åº”å†™è¯—é¡µé¢
- [ ] ä¿å­˜åè¿”å›ã€è¯—é›†ã€‘Tabï¼Œæ–°è¯—åœ¨é¡¶éƒ¨
- [ ] Tab åˆ‡æ¢ï¼ˆè¯—é›†/è‰ç¨¿/å·²å‘å¸ƒï¼‰æ­£å¸¸å·¥ä½œ
- [ ] ç‚¹å‡»è¯—æ­Œå¡ç‰‡è¿›å…¥è¯¦æƒ…é¡µ

### ä½“éªŒéªŒæ”¶
- [ ] ä¿å­˜åŠ¨ç”»æµç•…ï¼ˆ1ç§’ï¼‰
- [ ] æ–°è¯—é«˜äº®åŠ¨ç”»è‡ªç„¶ï¼ˆ2ç§’ï¼‰
- [ ] Tab åˆ‡æ¢åŠ¨ç”»æµç•…ï¼ˆ0.3ç§’ï¼‰
- [ ] åˆ›ä½œæ¨¡å¼é€‰æ‹©å™¨å¼¹å‡º/å…³é—­æµç•…

### æ€§èƒ½éªŒæ”¶
- [ ] è¯—æ­Œåˆ—è¡¨æ»šåŠ¨æµç•…ï¼ˆ60fpsï¼‰
- [ ] ä¿å­˜è¯—æ­Œå“åº”å¿«é€Ÿï¼ˆ< 0.5ç§’ï¼‰
- [ ] å†…å­˜å ç”¨åˆç†ï¼ˆ< 100MBï¼‰

---

## ğŸ“ æ€»ç»“

### æ ¸å¿ƒæ”¹è¿›
1. âœ… **ä¿¡æ¯æ¶æ„æ¸…æ™°**ï¼šå†…å®¹ + åˆ›ä½œå…¥å£åˆä¸€
2. âœ… **æµç¨‹è‡ªç„¶**ï¼šå†™è¯— â†’ ä¿å­˜ â†’ å›åˆ—è¡¨ï¼Œé—­ç¯å®Œæ•´
3. âœ… **æŒ‰éœ€ç”Ÿæˆå›¾ç‰‡**ï¼šä¸å†å¼ºåˆ¶ç”Ÿæˆï¼ŒèŠ‚çœæ—¶é—´
4. âœ… **å­¦ä¹ ä¼˜ç§€äº§å“**ï¼šå‚è€ƒ Flomo çš„äº¤äº’è®¾è®¡

### ç”¨æˆ·ä»·å€¼
- ğŸ“ **å†™è¯—æ›´è‡ªç„¶**ï¼šæ‰“å¼€è¯—é›†å°±èƒ½çœ‹åˆ°æ‰€æœ‰è¯—ï¼Œç‚¹ã€+ã€‘ç»§ç»­åˆ›ä½œ
- ğŸ¯ **ç›®æ ‡æ¸…æ™°**ï¼šå†™å®Œè¯—ç«‹å³çœ‹åˆ°ä¿å­˜æˆåŠŸï¼Œä¸å†è¿·å¤±
- âš¡ **æ•ˆç‡æå‡**ï¼šå–æ¶ˆå¼ºåˆ¶å›¾ç‰‡ç”Ÿæˆï¼Œä¿å­˜æ›´å¿«
- ğŸ¨ **æŒ‰éœ€åˆ†äº«**ï¼šéœ€è¦åˆ†äº«æ—¶å†é€‰æ‹©æ¨¡æ¿ï¼Œçµæ´»é«˜æ•ˆ

---

*PRD åˆ›å»ºè€…ï¼šèŠ±ç”Ÿ AI*  
*åˆ›å»ºæ—¶é—´ï¼š2025-10-26 01:30*  
*ç‰ˆæœ¬ï¼šv1.0*

